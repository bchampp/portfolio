{"ast":null,"code":"import _toConsumableArray from \"@babel/runtime/helpers/esm/toConsumableArray\";\nvar __jsx = React.createElement;\nimport React, { useState, useEffect } from 'react';\nimport Data from '../lists/Data';\nimport Link from 'next/link';\nimport tagStyles from '../../styles/tags.module.css';\nexport default function Tags(_ref) {\n  var tag = _ref.tag,\n      tags = _ref.tags,\n      work = _ref.work,\n      projects = _ref.projects,\n      posts = _ref.posts;\n\n  var _useState = useState([]),\n      filters = _useState[0],\n      setFilters = _useState[1];\n\n  useEffect(function () {\n    if (tag) {\n      setFilters(tag);\n    }\n  }, [tag]);\n\n  var handleClick = function handleClick(filter) {\n    var currFilters = filters;\n    var exists = filters.indexOf(filter);\n\n    if (exists == -1) {\n      currFilters = [].concat(_toConsumableArray(filters), [filter]);\n      setFilters(currFilters);\n    } else {\n      currFilters.splice(exists, 1);\n      setFilters(currFilters.filter(function (x) {\n        return x !== filter;\n      }));\n    }\n\n    var route = \"/tags/\".concat(currFilters[0] || '');\n\n    for (var i = 1; i < currFilters.length; i++) {\n      var routePostfix = \"&\".concat(currFilters[i]);\n      route = route.concat(routePostfix);\n    }\n\n    window.history.pushState({}, null, route);\n  };\n\n  return __jsx(\"div\", null, __jsx(\"h3\", null, \"Tags\"), __jsx(\"div\", null, __jsx(\"div\", {\n    className: tagStyles.tags\n  }, tags && tags.map(function (tag) {\n    return __jsx(\"div\", {\n      key: tag.name,\n      className: filters.includes(tag.name) ? tagStyles.active : tagStyles.inactive\n    }, __jsx(\"div\", {\n      onClick: function onClick() {\n        handleClick(tag.name);\n      }\n    }, tag.name));\n  })), __jsx(\"div\", {\n    className: tagStyles.content\n  }, __jsx(\"div\", {\n    className: tagStyles.contentContainer\n  }, __jsx(\"div\", {\n    className: tagStyles.contentTitle\n  }, __jsx(Link, {\n    href: \"/work\"\n  }, __jsx(\"a\", null, \"Work\"))), __jsx(Data, {\n    tags: true,\n    type: 'work',\n    filters: filters,\n    data: work\n  })), __jsx(\"div\", {\n    className: tagStyles.contentContainer\n  }, __jsx(\"div\", {\n    className: tagStyles.contentTitle\n  }, __jsx(Link, {\n    href: \"/projects\"\n  }, __jsx(\"a\", null, \"Projects\"))), __jsx(Data, {\n    tags: true,\n    type: 'projects',\n    filters: filters,\n    data: projects\n  }))), __jsx(\"div\", {\n    className: \"back\"\n  }, tag ? __jsx(Link, {\n    href: \"/tags\"\n  }, __jsx(\"a\", null, \"\\u2190 All Tags\")) : __jsx(Link, {\n    href: \"/\"\n  }, __jsx(\"a\", null, \"\\u2190 Home\")))));\n}","map":null,"metadata":{},"sourceType":"module"}